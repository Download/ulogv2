!function(e,t,o){"function"==typeof define&&define.amd?define(t,[],o):e[t]=o()}(this,"ulog",function(){"use strict";function o(e){return{level:"log",output:"log_output",format:"log_format"}[e]||e}module.exports=function(i,t,g,n){var d=require("anylogger");d.options={level:function(e){return void 0!==e&&(Number(e)!=Number(e)?d.levels[e.toLowerCase()]:Number(e))},output:function(e){return e&&e.split(/[\s,]+/)||[]},format:function(e){return e&&e.split(/[\s,]+/)||[]}},d.outputs={console:"undefined"!=typeof console&&console},d.formats={};var m={};for(var r in d.options)m[r]=[];m.debug=[],d.set=function(e,t,o){console.info("ulog.set",e,t),m[e]=[];for(var n,r,l=(t||"").split(/[\s]*;[\s]*/),u="debug"==e,i=0;r=l[i];i++){var s=r.split(/\s*=\s*/),f=((s[1]||u)&&s[0]||"").split(/[\s,]+/),a={value:s[1]||!u&&s[0]||u&&d.levels.d,incl:[],excl:[]};if(f.length)m[e].push(a);else{if(u||n)continue;n=a,f.push("*")}for(var c,v=0;c=f[v];v++)"-"===(c=c.replace(/\*/g,".*?"))[0]?a.excl.push(new RegExp("^"+c.substr(1)+"$")):a.incl.push(new RegExp("^"+c+"$"))}for(var p in n&&m[e].push(n),o&&g(e,t),console.info("ulog.set","re-extend"),d())d.ext(d()[p])},d.get=function(e,t){if(!e)return m;t="string"==typeof t&&t||t&&t.name||"";for(var o,n=0;o=m[e][n];n++){for(var r,l=0;r=o.excl[l];l++)if(r.test(t))continue;var u;for(l=0;u=o.incl[l];l++)if(u.test(t))return o.value}return i[e]},d.load=function(e){e?d.set(e,t(e)):Object.keys(d.options).concat(["debug"]).forEach(d.load)},d.enable=d.set.bind(this,"debug"),d.disable=d.set.bind(this,"debug",""),d.enabled=d.get.bind(this,"debug");var l=d.new;function u(e,t){Object.defineProperty(e,t,{get:function(){return d.options[t](d.get(t,e))}})}for(r in d.new=function(e,t){var o=l(e,t);for(k in d.levels)o[k.toUpperCase()]=d.levels[k];for(r in d.options)u(o,r);return n&&n(o,e,t),o},d.ext=function(r){var e,t=Math.max(d.enabled(r)&&d.levels[r.DEBUG]||r.NONE,r.level),o=r.output;if(1<o.length)for(v in e={},d.levels)e[v]=function(){for(var e,t=0;e=o[t];t++)(e=d.outputs[e])&&(e[v]||e.log).apply(r,arguments)};else e=d.outputs[o[0]]||d.outputs.console;var l=r.format;for(v in d.levels){var n=t>=d.levels[v],u=n&&(e[v]||e.log)||function(){};n&&l.length?r[v]=function(){for(var e,t=[].slice.call(arguments),o=(new Date).getTime(),n=0;e=l[n];n++)t.formats[e]&&t.formats[e](r,v,t,o);u.apply(r,t)}:r[v]=u}return r},d.options)u(d,r);return d.load(),d},module.exports=require("./ulog")({level:"warn",output:"console"},function(e){try{return localStorage.getItem(o(e))}catch(e){}},function(e,t){try{void 0===t?localStorage.removeItem(o(e)):localStorage.setItem(o(e),t)}catch(e){}})});